<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        let choice = ["Rock", "Paper", "Scissors"]
        let computerChoiceArrayNumber;

        let playerTypedString = prompt("Enter your choice", "rock, paper or scissor").toLowerCase();
        let playerChoiceArrayNumber;

        if(playerTypedString){
        determineWinner(playerTypedString, getComputerChoice());
        }

        function getComputerChoice(){
            computerChoiceArrayNumber = Math.floor(Math.random() * 3);
            console.log(computerChoiceArrayNumber);
            return computerChoiceArrayNumber;
        }

        function getPlayerChoice(playerString){
            playerChoice = choice;

            if(playerString.charAt(0) === "r"){
                playerChoiceArrayNumber = 0;
            }
            else if(playerString.charAt(0) === "p"){
                playerChoiceArrayNumber = 1;
            }
            else if(playerString.charAt(0) === "s"){
                playerChoiceArrayNumber = 2;
            }
            else{
                playerChoiceArrayNumber = null;
            }
        }


        function determineWinner(currentPlayerString, currentComputerChoiceArrayNumber){
            getPlayerChoice(currentPlayerString);
            let result;

            if(playerChoiceArrayNumber === null){
                alert("Invalid input");
                return;
            }

            if(playerChoiceArrayNumber === currentComputerChoiceArrayNumber){
                result = `You picked ${choice[playerChoiceArrayNumber]} and the computer picked ${choice[currentComputerChoiceArrayNumber]} as well.\n That's a draw.`
            }
            else if((playerChoiceArrayNumber === 0 && currentComputerChoiceArrayNumber === 2) || (playerChoiceArrayNumber === 1 && currentComputerChoiceArrayNumber === 0) || (playerChoiceArrayNumber === 2 && currentComputerChoiceArrayNumber === 1)){
                result = `You picked ${choice[playerChoiceArrayNumber]} and the computer picked ${choice[currentComputerChoiceArrayNumber]}.\n You win!`
            }
            else{
                result = `You picked ${choice[playerChoiceArrayNumber]} and the computer picked ${choice[currentComputerChoiceArrayNumber]}.\n You loose.`
            }
            alert(result);
            console.log(playerChoiceArrayNumber + " and " + currentComputerChoiceArrayNumber);
        }

    </script>
</body>
</html>